<!DOCTYPE html>
{% include 'header.html' %}

<body>
  <div id= "wrapper">
    {% include 'sidebar.html' %}
      <div id="content-wrapper" class="d-flex flex-column">
          <section id="content">

            <!-- Some easter egg, remove it when production release-->
            <div class="position-absolute float-left" style="z-index: 999;">
                <img id="thegif" />
                <audio id="peko">
                    <source src="{{url_for('static', filename='images/PekoRap.mp3')}}" type="audio/mp3">
                </audio>
            </div>
            <!-- end of easter egg -->

            <div class="m-auto p-3 w-50" style="border: 2px solid #924CF3; border-radius:16px;" id="funfactbox">
                <p style="margin-bottom: 6px;">
                    <b> Did you know?</b>
                    <button class="funfactbutton float-right text-primary" style="border: 2px solid #32989C; border-radius: 8px;" onclick="NewFact()">Click for a random fun fact!</button> <br>
                </p>
                <p id="random_message"></p>
            </div>

            <div class="mt-4 mx-auto" style="width: 90%">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="{{url_for('static', filename='images/GuidePage1.png')}}" alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img src="{{url_for('static', filename='images/GuidePage2.png')}}" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img src="{{url_for('static', filename='images/GuidePage3.png')}}" alt="Third slide">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
          </section>
             
          {% include 'footer.html' %}
      </div>
  </div>
</body>

<script>
    var length;

    const facts = [
        "It takes one to two minutes to crack into a WEP password",
        "The average time to crack into a WPA2 router is around 10 minutes",
        "The latest Wi-Fi encryption, WPA3, was released in July 2020",
        "The higher the complexity of your password, the longer it takes to crack",
        "The best place to install an access point/router is at the ceiling",
        "There is a hidden easter egg *somewhere* here. Try finding it!",
        "and another fun fact",
        "We love visualgo",
        "Before we go to the next fact, let us thank our sponsor PekoVPN!",
        "last fact",
        "Secret easter egg fact that only appeares with 1% chance. Congrats peko!"
    ];

    $(document).ready(function() {
        length = facts.length - 1;
        $('.carousel').carousel();
        document.getElementById("random_message").onload = NewFact(0);
    });

    function NewFact() {
        LoadNewFact(0.091);
        let Displayed_Fact = document.getElementById("random_message").innerHTML;
        //The Easter Egg ehehe. Can change facts[length] to facts[8] if you wanna proc it more
        if (Displayed_Fact == facts[length]) {
            PlayBGM();
        }
        else {
            StopBGM();
        }
        /* End of easter egg */
    }

    function LoadNewFact(multiplier) {
        let temp = Math.random() * (length + multiplier);
        temp = Math.floor(temp);
        //Prevent Repeated fact
        if (document.getElementById("random_message").innerHTML != facts[temp]) {
            document.getElementById("random_message").innerHTML = facts[temp];
        } else {
            LoadNewFact(0.091);
        }
    }

    function PlayBGM() {
        var bgm = document.getElementById("peko");
        bgm.play();
        bgm.volume = 0.3;
        var img = document.getElementById("thegif");
        img.src = "{{url_for('static', filename='images/PekoDance.gif')}}";
        var guide_img = document.getElementById("carouselExampleIndicators");
    }

    function StopBGM() {
        var bgm = document.getElementById("peko");
        bgm.pause();
        bgm.currentTime = 0;
        var img = document.getElementById("thegif");
        img.src = "";
        var guide_img = document.getElementById("carouselExampleIndicators");
    }
</script>